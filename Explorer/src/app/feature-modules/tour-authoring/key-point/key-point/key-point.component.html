<div *ngIf="isLoading" class="loading-spinner">
    <div class="custom-spinner"></div>
    <p class="loading-text">Loading key points...</p>
</div>

<div *ngIf="!isLoading">
    <h2>Key Points for Tour {{ tourId }}</h2>

    <hr />

    <div id="tour" class="tour-container">
        <h3>Existing Key Points</h3>
        <div class="tour-content">
            <div class="card-container">
                <div class="card" *ngFor="let keyPoint of keyPoints">
                   
                    <div class="card-header">
                        
                        <button class="btn edit-btn" (click)=" onEdit(keyPoint)" >
                            Edit
                        </button>
                       
                        <button class="btn delete-btn" (click)="keyPoint.id !== undefined ? onDelete(keyPoint.id) : null">
                            Delete
                        </button>
                    </div>
                    
                    <img *ngIf="keyPoint.imagePath" [src]="keyPoint.imagePath" alt="{{ keyPoint.name }}" class="card-image" />
                    <div class="card-content">
                        <h4>{{ keyPoint.name }}</h4>
                        <p><strong>Description:</strong> {{ keyPoint.description }}</p>
                        <p><strong>Latitude:</strong> {{ keyPoint.latitude }}</p>
                        <p><strong>Longitude:</strong> {{ keyPoint.longitude }}</p>
                    </div>
                </div>
            </div>
            <div class="map-container">
                <app-map [tourView]="true" [keyPoints]="keyPoints"></app-map>
            </div>
        </div>
    </div>
</div>

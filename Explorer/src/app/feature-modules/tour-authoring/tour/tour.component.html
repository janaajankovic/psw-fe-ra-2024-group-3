<div *ngIf="!isLoading">
    <div id="tour">
        <p>Tours</p>
        <div class="add-new-tour">
            <button class="primary-button" (click)="onAddClicked()">Add New Tour</button>
        </div>
        <hr>
        <div id="tour-details" class="card-container">
            <div class="tour-card" *ngFor="let t of tours">
                <!-- Naslov ture -->
                <h3 class="tour-name">{{t.name}}</h3>

                <!-- Opis ture -->
                <p class="tour-description">{{t.description}}</p>

                <!-- Ostali detalji -->
                <p><strong>Difficulty:</strong> {{getDifficultyLabel(t.difficulty)}}</p>
                <p><strong>Status:</strong> {{getStatusLabel(t.status)}}</p>
                <p><strong>Price:</strong> {{t.price | currency}}</p>
                <p><strong>Tags:</strong> {{t.tags}}</p>

                <!-- Tabelica za opremu -->
                <div *ngIf="t.id" class="equipment">
                    <xp-tour-equipment [tourId]="t.id"></xp-tour-equipment>
                </div>

                <!-- Dugmad -->
                <div class="card-buttons">
                    <button class="primary-button" (click)="onAddKeyPoint(t.id!)">Add Key Point</button>
                    <button class="primary-button" (click)="onShowKeyPoints(t.id!)">Show Key Points</button>
                    <button class="primary-button" *ngIf="t.status === 2 || t.status == 0" (click)="onPublish(t)">
                        Publish
                    </button>
                    <button class="primary-button" *ngIf="t.status === 1" (click)="onArchive(t)">Archive</button>
                    <button class="primary-button" *ngIf="t.status === 0" (click)="onEdit(t)">Edit</button>
                </div>
            </div>
        </div>
    </div>
</div>

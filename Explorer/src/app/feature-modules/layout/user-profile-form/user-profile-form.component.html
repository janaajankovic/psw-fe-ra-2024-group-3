<div class="user-profile-form-container">

  <form [formGroup]="userProfileForm" class="profile-form" (ngSubmit)="updateProfile()">
    <div>
      <h2>Update Profile</h2>
      <mat-form-field appearance="outline">
        <mat-label>Name</mat-label>
        <input matInput formControlName="firstName" type="text">
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Last Name</mat-label>
        <input matInput formControlName="lastName" type="text">
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Biography</mat-label>
        <textarea matInput cdkTextareaAutosize cdkAutosizeMinRows="1" formControlName="biography" cdkAutosizeMaxRows="5"></textarea>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Motto</mat-label>
        <input matInput formControlName="motto" type="text" placeholder="Your personal motto">
      </mat-form-field>
      <!-- Kod za prikaz slike -->
      <div *ngIf="!showImageUpload; else imageUploadTemplate" class="object-image-container">
        <img *ngIf="profile?.imageURL" [src]="profile.imageURL" alt="{{ profile.imageURL }}" class="object-image" />
        <img *ngIf="!profile?.imageURL" src="assets/default-image.png" alt="The image does not exist." class="object-image" />
        <button (click)="changeImage()" type="button" mat-raised-button color="button">Change image</button>
      </div>
      
      <ng-template #imageUploadTemplate>
        <div style="margin-bottom: 16px;">
          <!-- kod za upload slike -->
          <app-image-upload (fileSelected)="onFileSelected($event)" formControlName="imageURL" required></app-image-upload>
        </div>
      </ng-template>
      <button [disabled]="userProfileForm.invalid" mat-raised-button type="submit" color="button">Done</button>
    </div>
  </form>
</div>